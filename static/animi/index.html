<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>MAHZAIB</title>
  </head>
  <body>
    <section>
      <span></span>
      <div class="row top">
        <div class="imgName">
          <img src="imgs/1.jpg" class="circle-img" />
          <p>
            <b class="bolder">@your.profile</b> <br />
            <span class="light">Brand,Store,Influencer etc..</span>
          </p>
        </div>
        <p>
          <b class="bolder">1000</b> <br /><span class="light">followers</span>
        </p>
        <p>
          <b class="bolder">3,200</b> <br /><span class="light">likes</span>
        </p>
        <p>
          <b class="bolder">5,000</b> <br /><span class="light">views</span>
        </p>
      </div>
      <div class="row headings">
        <h4>Your Followers</h4>
      </div>

      <div class="row middle">
        <!-- first box -->
        <div>
          <div class="fake-containerScndRow">

            <div class="imgName">
              <img src="imgs/3.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.1</b>
            </div>
          </div>

          <div class="d-flex">
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
          </div>
        </div>

        <!-- second box -->
        <div>
          <div class="fake-containerScndRow">
            <div class="imgName">
              <img src="imgs/4.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.2</b>
            </div>
          </div>

          <div class="d-flex">
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
          </div>
        </div>

        <!-- third box -->
        <div>
          <div class="fake-containerScndRow">
            <div class="imgName">
              <img src="imgs/5.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.3</b>
            </div>
          </div>

          <div class="d-flex">
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
          </div>
        </div>
        <!-- <div class="imgName">
          <img src="imgs/2.jpg" class="circle-img" />
          <p>
            <b class="bolder">@similar.profile</b> <br />
            <span class="light">Profile with relevant audience </span>
          </p>
        </div>
        <p>
          <b class="bolder">5,000</b> <br /><span class="light">views</span>
        </p> -->
      </div>

      <div class="row headings">
        <h4>Your Target Audience</h4>
      </div>

      <div class="row bottom">
        <!-- first box -->
        <div>
          <div class="fake-container">
            <div class="imgName fake">
              <img src="imgs/3.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.1</b>
            </div>

            <div class="imgName">
              <img src="imgs/3.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.1</b>
            </div>
          </div>

          <div class="d-flex">
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
          </div>
        </div>

        <!-- second box -->
        <div>
          <div class="fake-container">
            <div class="imgName fake">
              <img src="imgs/4.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.2</b>
            </div>

            <div class="imgName">
              <img src="imgs/4.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.2</b>
            </div>
          </div>

          <div class="d-flex">
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
          </div>
        </div>

        <!-- third box -->
        <div>
          <div class="fake-container">
            <div class="imgName fake">
              <img src="imgs/5.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.3</b>
            </div>

            <div class="imgName">
              <img src="imgs/5.jpg" class="circle-img small-img" />
              <b class="bold">their.follower.3</b>
            </div>
          </div>

          <div class="d-flex">
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
            <figure>
              <img src="imgs/6.jpg" />
              <figcaption>
                <img src="imgs/1.jpg" class="small-circle-img" />
                <img src="imgs/heart.svg" />
              </figcaption>
            </figure>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>

<script src="./anime.js"></script>
<script>
  let imageName = document.querySelectorAll(".imgName");
  let cardsBottom = document.querySelectorAll(".row.bottom > div");
  let heartIcons = document.querySelectorAll("figure figcaption");
  let fake = document.querySelectorAll(".fake");
  let counterdivs = document.querySelectorAll(
    ".row.top .imgName ~ p b:first-child"
  );
  let _1st = 1000,
    _2nd = 3200,
    _3rd = 5000;

  function resetFake() {
    fake.forEach((elem) => {
      elem.style.opacity = 1;
      elem.style.transform = "translate(0, 0)";
    });
  }

  function x() {
    //  1st element
    anime({
      targets: imageName[0],
      translateX: [-20, 0],
      opacity: [0.5, 1],
      duration: 1500,
    });

    // 2nd element
    anime({
      targets: ".row.top .imgName ~ p",
      scale: [0.8, 1],
      opacity: [0, 1],
      duration: 1000,
      delay: function (el, i) {
        return i * 100 + 300;
      },
    });

    // 2nd element
    anime({
      targets: ".row.headings",
      scale: [0.8, 1],
      opacity: [0, 1],
      duration: 1000,
      delay: function (el, i) {
        return i * 100 + 300;
      },
    });

    // 3rd element
    anime({
      targets: ".row.middle",
      translateY: [40, 0],
      opacity: [0, 1],
      duration: 700,
      delay: 1000,
    });

    // 4th element
    anime({
      targets: cardsBottom[0],
      scale: [0.8, 1],
      opacity: [0, 1],
      duration: 1200,
      delay: 1500,
    });

    // 5th element
    anime({
      targets: cardsBottom[1],
      scale: [0.8, 1],
      opacity: [0, 1],
      duration: 1000,
      delay: 1600,
    });

    // 6th element
    anime({
      targets: cardsBottom[2],
      scale: [0.8, 1],
      opacity: [0, 1],
      duration: 1000,
      delay: 1700,
    });

    // 7th element
    anime({
      targets: heartIcons,
      translateY: [20, 0],
      opacity: [0, 1],
      duration: 1000,
      delay: function (el, i) {
        return i * 100 + 1700;
      },
    });

    // 8th element
    anime({
      targets: fake[2],
      translateX: [0, 60],
      translateY: [0, -140],
      opacity: [1, 0],
      duration: 700,
      delay: 3000,
      easing: "easeOutQuart",
    });

    anime({
      targets: fake[1],
      translateX: [0, 160],
      translateY: [0, -140],
      opacity: [1, 0],
      duration: 700,
      delay: 3000,
      easing: "easeOutQuart",
    });

    setTimeout(() => {
      counterdivs[2].textContent = _3rd + 1;
    }, 3500);

    setTimeout(() => {
      counterdivs[2].textContent = _3rd + 2;
    }, 3550);

    setTimeout(() => {
      counterdivs[2].textContent = _3rd + 3;
    }, 3600);

    anime({
      targets: fake[0],
      translateX: [0, 200],
      translateY: [0, -140],
      opacity: [1, 0],
      duration: 700,
      delay: 3000,
      easing: "easeOutQuart",
      complete: function () {
        resetFake();
        anime({
          targets: fake[1],
          translateX: [0, 160],
          translateY: [0, -140],
          opacity: [1, 0],
          duration: 700,
          delay: 500,
          easing: "easeOutQuart",
        });

        setTimeout(() => {
          counterdivs[1].textContent = _2nd + 1;
        }, 800);

        setTimeout(() => {
          counterdivs[1].textContent = _2nd + 2;
        }, 900);

        anime({
          targets: fake[0],
          translateX: [0, 140],
          translateY: [0, -140],
          opacity: [1, 0],
          duration: 700,
          delay: 500,
          easing: "easeOutQuart",
          complete: function () {
            resetFake();

            setTimeout(() => {
              counterdivs[0].textContent = _1st + 1;
            }, 900);

            anime({
              targets: fake[0],
              translateX: [0, 220],
              translateY: [0, -140],
              opacity: [1, 0],
              duration: 1000,
              delay: 500,
              easing: "easeOutQuart",
              complete: function () {
                anime({
                  targets: "section span:first-child",
                  height: [0, "100%"],
                  width: [0, "100%"],
                  easing: "easeOutQuart",
                  duration: 500,
                  delay: 500,
                  complete: function () {
                    setTimeout(() => {
                      document.querySelector(
                        "section span:first-child"
                      ).style.width = 0;
                      document.querySelector(
                        "section span:first-child"
                      ).style.height = 0;
                      counterdivs[0].textContent = _1st;
                      counterdivs[1].textContent = _2nd;
                      counterdivs[2].textContent = _3rd;
                      x();
                    }, 1000);
                  },
                });
              },
            });
          },
        });
      },
    });
  }

  x();
</script>
